<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RPS Game</title>
</head>
<body>

  <p>
    Rock Paper Scissors
  </p>
  <button onclick="GamePlay('Rock')">
    Rock
  </button>
  <button onclick="GamePlay('Paper');">
    Paper
  </button>
  <button onclick="GamePlay('Scissors');">
    Scissors
  </button>
  <button
  onclick="showScore();"
  >
    Show Score
  </button>
  <button onclick="ResetButton();">
    Reset Score
  </button>
  <p>Result</p>
  <p>Game Play</p>
  <p id="scoreP"></p>

  <script>

    let savedScoreStr = localStorage.getItem('savedScore');
    let savedScoreObjc = JSON.parse(savedScoreStr);
    

    let Score =  savedScoreObjc || {
      win : 0,
      lose : 0,
      draw : 0
    }
    
    
    let botMove = '';
    function showScore() {
      alert(`Score is : \n 
      Wins : ${Score.win} Lose : ${Score.lose} Draw : ${Score.draw} `)
    }
    function ResetButton() {
      
      Score.win = 0;
      Score.lose = 0;
      Score.draw = 0;
      localStorage.removeItem("savedScore");
      alert('Score has been reset ');
    }
    let scoreP = document.getElementById("scoreP");
    scoreP.textContent = ` Score is : Wins : ${Score.win} Lose: ${Score.lose} Draw: ${Score.draw}`;
    function GamePlay(playerMove) {
      let result = '';
      let botchose = botPick();
      if (playerMove === 'Rock') {
        if (botchose === 'Rock'){
          result = 'Draw'
          
        } else if (botchose === 'Paper') {
          result = 'Lose';
          



        } else {
          result = 'Win';
          
        }

      } else if (playerMove === 'Paper') {
        if (botchose === 'Rock') {
          result = 'Win';
          

        } else if (botchose === 'Paper') {
          result = 'Draw';
          

        } else {
          result = 'Lose'
          
        }
      } else {
        if (botchose === 'Rock') {
          result = 'Lose';
          

        } else if (botchose === 'Paper') {
          result = 'Win';
        } else {
          result = 'Draw'
        }
      }

      if (result === 'Win') {
        Score.win = Score.win + 1;
      }else if (result === 'Lose') {
        Score.lose = Score.lose + 1;

      } else {
        Score.draw = Score.draw + 1;
      }
      

      localStorage.setItem('savedScore' ,JSON.stringify(Score));

      scoreP.textContent = ` Score is : Wins : ${Score.win} Lose: ${Score.lose} Draw: ${Score.draw}`;
      
    }
    
    
    function botPick() {
      let randomNumber = Math.random();
      if (randomNumber > 0 && randomNumber <= 1/3) {
        botMove = 'Rock';

      }else if (randomNumber > 1/3 && randomNumber <= 2/3) {
        botMove = 'Paper';

      } else {
        botMove = 'Scissors';
      }
      
      return botMove;
          

    }
    


    

    // Json.stringify -> Convert the type of data to a string
  </script>
</body>
</html>